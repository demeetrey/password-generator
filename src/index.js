
document
  .querySelector(".generate-button")
  .addEventListener("click", function () {
    const svg = this.querySelector("#generate-svg");
    svg.classList.toggle("rotate");
    setTimeout(() => {
      svg.classList.toggle("rotate");
    }, 300);
  });

  
const rangeInput = document.getElementById("text-length");
const textInput = document.getElementById("text-length-value");

rangeInput.addEventListener("input", () => {
  textInput.value = rangeInput.value;
});

textInput.addEventListener("input", () => {
  const value = parseInt(textInput.value, 10);

  if (!isNaN(value)) {
    const clampedValue = Math.max(
      rangeInput.min,
      Math.min(rangeInput.max, value)
    );
    rangeInput.value = clampedValue;
  }
});

textInput.addEventListener("change", () => {
  let value = parseInt(textInput.value, 10);

  if (isNaN(value)) {
    value = rangeInput.min;
  }

  const clampedValue = Math.max(
    rangeInput.min,
    Math.min(rangeInput.max, value)
  );
  textInput.value = clampedValue;
  rangeInput.value = clampedValue;
});

const copyButton = document.querySelector(".copy-button");
const tooltip = document.getElementById("copy-tooltip");
const passwordContent = document.getElementById("password-id");
const passwordContainer = document.querySelector(".password-container");

function resizeTooltip() {
  const passwordContentStyles = window.getComputedStyle(passwordContent);

  tooltip.style.width = passwordContentStyles.width;
  tooltip.style.height = passwordContentStyles.height;

  tooltip.style.left = passwordContent.offsetLeft + "px";
  tooltip.style.top = passwordContent.offsetTop + "px";

  tooltip.style.width = parseInt(tooltip.style.width) + "px";
  let fontSize = 24;
  tooltip.style.fontSize = fontSize + "px";

  const maxWidth = tooltip.offsetWidth;

  while (tooltip.scrollWidth >= maxWidth && fontSize > 3) {
    fontSize -= 1;
    tooltip.style.fontSize = fontSize + "px";
  }
}

function animateText(textContent) {
  tooltip.textContent = "";
  let a = 0;

  function addCharacter() {
    if (a < textContent.length) {
      tooltip.textContent += textContent[a];
      a++;
      setTimeout(addCharacter, 20);
    }
  }
  addCharacter();
}

let to = 0;
copyButton.addEventListener("click", function () {
  passwordContainer.style.borderColor = "#14e025";

  if (to) {
    return;
  }
  resizeTooltip();

  tooltip.classList.add("visible");

  if (passwordContent.style.visibility !== "hidden") {
    passwordContent.style.visibility = "hidden";
  }

  animateText(tooltip.textContent);

  to = setTimeout(() => {
    tooltip.classList.remove("visible");
    passwordContainer.style.borderColor = "#bb9a6a";
    passwordContainer.style.boxShadow = "none";
    if (closeButtonContainer.style.display === "none") {
      passwordContent.style.visibility = "visible";
    }
    clearTimeout(to);
    to = 0;
  }, 1500);
});

copyButton.addEventListener("click", () => {
  const textToCopy = passwordContent.textContent;
  navigator.clipboard.writeText(textToCopy);
});

window.addEventListener("resize", resizeTooltip);

const reGenerateButton = document.getElementById("generate-svg");
const checkboxLower = document.getElementById("checkbox-lower");
const checkboxUpper = document.getElementById("checkbox-upper");
const checkboxNumbers = document.getElementById("checkbox-numbers");
const checkboxSpecial = document.getElementById("checkbox-special");
const checkboxSmart = document.getElementById("checkbox-smart");
const checkbox_i_l = document.getElementById("checkbox-i-l");
const checkbox_O_0 = document.getElementById("checkbox-O-0");
const checkboxQuote = document.getElementById("checkbox-quote");

const lowerCase = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']; //26
const upperCase = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z']; //26
const symbols = ['!', '"', '#', '$', '%', '&', "'", '(', ')', '*', '+', ',', '-', '.', '/', ':', ';', '<', '=', '>', '?', '@', '[', '\\', ']', '^', '_', '`', '{', '|', '}', '~']; //32
const numbers = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']; //10

const similarSymbols = ['rn', 'vv', 'cl', 'cI', "''", "``", '__'];

const similar_I_l = ['I', 'l', '|'];
const similar_O_0 = ['O', 'o', '0'];
const similarQuote = ["`", "'"];

const checkboxesPlus = [
  checkboxLower,
  checkboxUpper,
  checkboxNumbers,
  checkboxSpecial,
];

checkboxesPlus.forEach((checkbox) => {
  checkbox.onclick = () => {
    const checkedCount = checkboxesPlus.filter((cb) => cb.checked).length;

    if (checkedCount === 0) {
      checkbox.checked = true;
    }
  };
});

const plusAll = [lowerCase, upperCase, numbers, symbols];
const minusAll = [similar_I_l, similar_O_0, similarQuote];

function randomSymbolGenerator() {
  let noSmartResult, smartResult;

  const plus = [checkboxLower.checked, checkboxUpper.checked, checkboxNumbers.checked, checkboxSpecial.checked],
        minus = [checkbox_i_l.checked, checkbox_O_0.checked, checkboxQuote.checked];

  const plusTrue = [],
        minusTrue = [];

  for (let i = 0; i < plus.length; i++) {
    if (plus[i]) {
      plusTrue.push(plusAll[i]);
    }
  }
  for (let i = 0; i < minus.length; i++) {
    if (minus[i]) {
      minusTrue.push(minusAll[i]);
    }
  }

  function mergeArrays(...arrays) {
    return arrays.flat();
  }

  const plusTrueResult = mergeArrays(...plusTrue);
  const minusTrueResult = mergeArrays(...minusTrue);

  for (let i = 0; i < minusTrueResult.length; i++) {
    const index = plusTrueResult.indexOf(minusTrueResult[i]);
    if (index !== -1) {
       plusTrueResult.splice(index, 1);
    }
  }

  let preparedSymbolList = plusTrueResult;

  function generateResult() {
    const quantity = textInput.value;

    let result = "";

    for (let i = 0; i < quantity; i++) {
      let j = Math.floor(Math.random() * preparedSymbolList.length);

      result += preparedSymbolList[j];
    }
    return result;
  }

  noSmartResult = generateResult();

  if (!checkboxSmart.checked) {
    return noSmartResult;
  } else {
    function smartPassword() {
      let foundMatch = true;
      let localSmartResult = noSmartResult;

      while (foundMatch) {
        foundMatch = false;

        for (let i = 0; i < similarSymbols.length; i++) {
          const regex = new RegExp(similarSymbols[i], "g");

          if (regex.test(localSmartResult)) {
            foundMatch = true;

            localSmartResult = localSmartResult.replace(regex, (match) => {
              const randomSymbol =
              preparedSymbolList[
                  Math.floor(Math.random() * preparedSymbolList.length)
                ];

              const indexToReplace = Math.floor(Math.random() * match.length);
              return match
                .split("")
                .map((char, index) =>
                  index === indexToReplace ? randomSymbol : char
                )
                .join("");
            });
          }
        }
      }
      return localSmartResult;
    }
    smartResult = smartPassword();
    return smartResult;
  }
}

const hiddenPassword = document.getElementById("hidden-password-id");
const slider = document.getElementById("text-length");
const sliderValue = document.getElementById("text-length-value");
const sizeButtons = document.querySelectorAll(".password-lenght-button");

function resizeText() {
  const textLength = parseInt(slider.value, 10);
  sliderValue.value = textLength;

  passwordContent.textContent = randomSymbolGenerator();

  const starText = "‚óè".repeat(textLength);
  hiddenPassword.textContent = starText;

  let fontSize = 32;
  passwordContent.style.fontSize = fontSize + "px";
  hiddenPassword.style.fontSize = fontSize + "px";

  let s1 = 32;
  for (let i = 24; i <= 32; i++, s1 -= 1) {
    if (textLength == i) {
      s1 -= 1;
      passwordContent.style.fontSize = s1 + "px";
    }
  }
  let s2 = 24;
  for (let i = 32; i <= 64; i++) {
    if (textLength == i) {
      passwordContent.style.fontSize = s2 + "px";
    }
  }
}

slider.addEventListener("input", resizeText);

sliderValue.addEventListener("input", () => {
  const value = parseInt(sliderValue.value, 1);

  if (!isNaN(value)) {
    const clampedValue = Math.max(slider.min, Math.min(slider.max, value));
    slider.value = clampedValue;
    resizeText();
  }
});

sliderValue.addEventListener("change", () => {
  let value = parseInt(sliderValue.value, 10);

  if (isNaN(value)) {
    value = slider.min;
  }

  const clampedValue = Math.max(slider.min, Math.min(slider.max, value));
  sliderValue.value = clampedValue;
  slider.value = clampedValue;
  resizeText();
  resizeHiddenPassword();
});

sizeButtons.forEach((button) => {
  button.addEventListener("click", () => {
    sliderValue.value = button.innerText;
    slider.value = button.innerText;
    resizeText();
    resizeHiddenPassword();
  });
});

resizeText();

const checkboxesArray = [
  checkboxLower,
  checkboxUpper,
  checkboxNumbers,
  checkboxSpecial,
  checkboxSmart,
  checkbox_i_l,
  checkbox_O_0,
  checkboxQuote,
  reGenerateButton,
];

checkboxesArray.forEach((click) => {
  click.addEventListener("click", () => {
    resizeText();
  });
});

const openButtonContainer = document.querySelector(".eye-open-button-container");
const closeButtonContainer = document.querySelector(".eye-close-button-container");

let symbolQuantity,
  starQuantity = "";

function resizeHiddenPassword() {
  const passwordContentStyles = window.getComputedStyle(passwordContent);

  hiddenPassword.style.width = passwordContentStyles.width;
  // hiddenPassword.style.height = passwordContentStyles.height;
  // hiddenPassword.style.height = "40" + "px";

  hiddenPassword.style.left = passwordContent.offsetLeft + "px";
  //hiddenPassword.style.top = passwordContent.offsetTop + "px";

  hiddenPassword.style.width = parseInt(hiddenPassword.style.width) + "px";
  let fontSize = 32;
  hiddenPassword.style.fontSize = fontSize + "px";

  const maxWidth = hiddenPassword.offsetWidth;

  while (hiddenPassword.scrollWidth >= maxWidth && fontSize > 3) {
    fontSize -= 1;
    hiddenPassword.style.fontSize = fontSize + "px";
  }
}

rangeInput.addEventListener("input", () => {
  symbolQuantity = rangeInput.value;
});

let animationTimeout;

function animateHidden(textContent) {
  hiddenPassword.textContent = "";

  let a = 0;

  if (animationTimeout) {
    clearTimeout(animationTimeout);
    animationTimeout = null;
  }

  function addCharacter(speed) {
    if (a < textContent.length) {
      hiddenPassword.textContent += textContent[a];
      a++;
      if (a < textContent.length) {
        hiddenPassword.textContent += textContent[a];
        a++;
      }
      animationTimeout = setTimeout(() => {
        addCharacter(speed);
      }, speed);
    } else {
      animationTimeout = null;
    }
  }

  if (textContent.length >= 8 && textContent.length <= 12) {
    addCharacter(40);
  } else if (textContent.length > 12 && textContent.length <= 16) {
    addCharacter(30);
  } else if (textContent.length > 16 && textContent.length <= 32) {
    addCharacter(20);
  } else {
    addCharacter(10);
  }
}

openButtonContainer.addEventListener("click", () => {
  resizeHiddenPassword();

  const starQuantity = "‚óè".repeat(rangeInput.value);

  hiddenPassword.classList.add("visible");
  passwordContent.style.visibility = "hidden";

  animateHidden(starQuantity);

  openButtonContainer.style.display = "none";
  closeButtonContainer.style.display = "block";
});

sizeButtons.forEach((button) => {
  button.addEventListener("click", () => {
    const starQuantity = "‚óè".repeat(rangeInput.value);
    animateHidden(starQuantity);
  });
});

closeButtonContainer.addEventListener("click", () => {
  hiddenPassword.classList.remove("visible");
  passwordContent.style.visibility = "visible";
  closeButtonContainer.style.display = "none";
  openButtonContainer.style.display = "block";
});

window.addEventListener("resize", resizeHiddenPassword);
slider.addEventListener("input", resizeHiddenPassword);

const checkboxes = [
  checkboxLower,
  checkboxUpper,
  checkboxNumbers,
  checkboxSpecial,
  checkboxSmart,
  checkbox_i_l,
  checkbox_O_0,
  checkboxQuote,
  reGenerateButton,
];

checkboxes.forEach((click) => {
  click.addEventListener("click", () => {
    resizeHiddenPassword();
    const starQuantity = "‚óè".repeat(rangeInput.value);
    animateHidden(starQuantity);
  });
});

const translations = {
  en: {
    title: "Password Generator",
    meta_description: "Secure Password Generator: fast, simple, and safe. Create passwords of various lengths and complexity",
    meta_keywords: "Pilot, Pilot password generator, 3.14lot, 3.14lot password generator, passgen, pass gen, Password generator, Secure passwords, Password creation, Safe passwords, Online password generator",
    og_title: "Secure Password Generator - Fast, Simple, and Safe",
    og_description: "Generate passwords of various lengths and complexity. Online Password Generator",
    twitter_title: "Secure Password Generator",
    twitter_description: "Quickly generate strong and secure passwords online",
    header: "Secure Password Generator",
    subheader: "fast, simple, and safe",
    copy_message: "Password copied!",
    generate_password: "Generate Password",
    hide_password: "Hide Password",
    show_password: "Show Password",
    copy_password: "Copy Password",
    t_password: "password",
    t_smart_content_1: "The ¬´Smart Password¬ª feature automatically controls and eliminates ambiguous character combinations, such as:",
    t_smart_content_2: "Combination of letters:",
    t_smart_content_3: "and",
    t_smart_content_4: "that may look like",
    t_smart_content_5: "Also the combination:",
    t_smart_content_6: "and",
    t_smart_content_7: "that may look like",
    t_smart_content_8: "Or letters:",
    t_smart_content_8_1: "Two identical symbols:",
    t_smart_content_9: "and",
    t_smart_content_9_1: "and",
    t_smart_content_10: "may look like",
    t_smart_content_10_1: "may look like one",
    t_smart_content_11: "Combination of characters:",
    t_smart_content_11_1: "or",
    t_smart_content_12: "and",
    t_smart_content_13: "may look like",
    t_lower: "Lowercase",
    t_upper: "Uppercase",
    t_numbers: "Numbers",
    t_symbols: "Symbols",
    t_exception_1: "Exclude similar characters:",
    t_exception_1_1: "(uppercase \"i\", lowercase \"L\", and vertical bar).",
    t_exception_1_2: "(uppercase \"O\", lowercase \"o\", and zero).",
    t_exception_1_3: "Single quotes",
    t_exception_1_4: "and backticks",
    faq_title: "Frequently Asked Questions",
    faq_title_1: "Is Online Password Generator safe?",
    faq_title_1_content_1: "Absolutely! The ¬´3.14LOT Online Password Generator¬ª operates entirely in your browser, using client-side JavaScript. This ensures that all generated passwords remain solely on your device. None of the generated passwords are transmitted over the network unless you choose to copy them to the clipboard.",
    faq_title_1_content_2: "The tool allows you to create complex passwords resistant to dictionary attacks, ensuring a high level of security. With the ¬´3.14LOT Password Generator¬ª, you can create a unique password that meets the strictest security standards.",
    faq_title_2: "Why use a password generator?",
    faq_title_2_content_1: "A modern internet user often has dozens or even hundreds of accounts. Each requires a unique, reliable, and complex password to ensure security. Creating such passwords manually can be difficult and time-consuming.",
    faq_title_2_content_2: "A password generator simplifies this task by quickly creating complex combinations of characters that are nearly impossible to crack. The random password generator ensures the security of your accounts, minimizing the risk of unauthorized access. Using the generator, you can easily enhance the security of your data.",
    faq_title_3: "How to create a secure and reliable password?",
    faq_title_3_content_1: "A secure password is the key to protecting your account and should be known only to you. To enhance security, use at least eight characters, including uppercase and lowercase letters, numbers, and special characters.",
    faq_title_3_content_2: "Avoid easily predictable combinations such as:",
    faq_title_3_content_3: "simple words",
    faq_title_3_content_4: "modifications of the word ¬´password¬ª",
    faq_title_3_content_5: "keyboard patterns like ¬´qwerty¬ª or ¬´asdfgh¬ª",
    faq_title_3_content_6: "sequences like ¬´123456¬ª",
    faq_title_3_content_7: "names, birth dates, or pet names",
    faq_title_3_content_8: "When creating a password, focus on uniqueness and complexity to protect your data from potential breaches.",
    rights: "\u00A9 2025 3.14LOT.COM - All rights reserved",
    contact_us: "Contact us",
  },
  ru: {
    title: "–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π",
    meta_description: "–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞–¥–µ–∂–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π: –±—ã—Å—Ç—Ä–æ, –ø—Ä–æ—Å—Ç–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ. –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø–∞—Ä–æ–ª–∏ —Ä–∞–∑–ª–∏—á–Ω–æ–π –¥–ª–∏–Ω—ã –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏",
    meta_keywords: "–ü–∏–ª–æ—Ç, –ü–∏–ª–æ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π, –ü–∞–π–ª–æ—Ç, –ü–∞–π–ª–æ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π, 3.14–ª–æ—Ç, 3.14–ª–æ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π, –ø–∞—Å—Å–≥–µ–Ω, –ø–∞—Å—Å –≥–µ–Ω, –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π, –Ω–∞–¥–µ–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏, —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π, –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏, –æ–Ω–ª–∞–π–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π",
    og_title: "–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞–¥–µ–∂–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π - –±—ã—Å—Ç—Ä–æ, –ø—Ä–æ—Å—Ç–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ",
    og_description: "–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø–∞—Ä–æ–ª–∏ —Ä–∞–∑–ª–∏—á–Ω–æ–π –¥–ª–∏–Ω—ã –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π –æ–Ω–ª–∞–π–Ω",
    twitter_title: "–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞–¥–µ–∂–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π",
    twitter_description: "–ë—ã—Å—Ç—Ä–æ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–ª–æ–∂–Ω—ã–µ –∏ –Ω–∞–¥–µ–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –æ–Ω–ª–∞–π–Ω",
    header: "–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞–¥–µ–∂–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π",
    subheader: "–±—ã—Å—Ç—Ä–æ, –ø—Ä–æ—Å—Ç–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ",
    copy_message: "–ü–∞—Ä–æ–ª—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!",
    generate_password: "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å",
    hide_password: "–°–∫—Ä—ã—Ç—å –ø–∞—Ä–æ–ª—å",
    show_password: "–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å",
    copy_password: "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å",
    t_password: "–ø–∞—Ä–æ–ª—å",
    t_smart_content_1: "–§—É–Ω–∫—Ü–∏—è ¬´Smart –ø–∞—Ä–æ–ª—å¬ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∏ –∏—Å–∫–ª—é—á–∏—Ç –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–µ —Å–æ—á–µ—Ç–∞–Ω–∏—è —Å–∏–º–≤–æ–ª–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫–∏–µ –∫–∞–∫:",
    t_smart_content_2: "–°–æ—á–µ—Ç–∞–Ω–∏–µ –±—É–∫–≤:",
    t_smart_content_3: "–∏",
    t_smart_content_4: "–∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫",
    t_smart_content_5: "–¢–∞–∫–∂–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ:",
    t_smart_content_6: "–∏",
    t_smart_content_7: "–∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫",
    t_smart_content_8: "–õ–∏–±–æ –±—É–∫–≤—ã:",
    t_smart_content_8_1: "–î–≤–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–∞:",
    t_smart_content_9: "–∏",
    t_smart_content_9_1: "–∏",
    t_smart_content_10: "–º–æ–≥—É—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫",
    t_smart_content_10_1: "–º–æ–≥—É—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ –æ–¥–∏–Ω",
    t_smart_content_11: "–°–æ—á–µ—Ç–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤:",
    t_smart_content_11_1: "–∏–ª–∏",
    t_smart_content_12: "–∏",
    t_smart_content_13: "–º–æ–≥—É—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫",
    t_lower: "–°—Ç—Ä–æ—á–Ω—ã–µ",
    t_upper: "–ó–∞–≥–ª–∞–≤–Ω—ã–µ",
    t_numbers: "–¶–∏—Ñ—Ä—ã",
    t_symbols: "–°–∏–º–≤–æ–ª—ã",
    t_exception_1: "–ò—Å–∫–ª—é—á–∏—Ç—å —Å—Ö–æ–∂–∏–µ —Å–∏–º–≤–æ–ª—ã:",
    t_exception_1_1: "(–ó–∞–≥–ª–∞–≤–Ω–∞—è \"i\", —Å—Ç—Ä–æ—á–Ω–∞—è \"L\" –∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è —á–µ—Ä—Ç–∞).",
    t_exception_1_2: "(–ó–∞–≥–ª–∞–≤–Ω–∞—è \"O\", —Å—Ç—Ä–æ—á–Ω–∞—è \"o\" –∏ —Ü–∏—Ñ—Ä–∞ –Ω–æ–ª—å).",
    t_exception_1_3: "–û–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏",
    t_exception_1_4: "–∏ –æ–±—Ä–∞—Ç–Ω—ã–π –∞–ø–æ—Å—Ç—Ä–æ—Ñ",
    faq_title: "–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã",
    faq_title_1: "–ë–µ–∑–æ–ø–∞—Å–µ–Ω –ª–∏ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π –æ–Ω–ª–∞–π–Ω?",
    faq_title_1_content_1: "–ê–±—Å–æ–ª—é—Ç–Ω–æ! ¬´3.14LOT –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π –æ–Ω–ª–∞–π–Ω¬ª –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ, –∏—Å–ø–æ–ª—å–∑—É—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π JavaScript. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ —Å–æ–∑–¥–∞–≤–∞–µ–º—ã–µ –ø–∞—Ä–æ–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ –≤–∞—à–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ. –ù–∏ –æ–¥–∏–Ω –∏–∑ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–µ—Ç—å, –∫—Ä–æ–º–µ —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –≤—ã —Ä–µ—à–∞–µ—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞.",
    faq_title_1_content_2: "–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ, —É—Å—Ç–æ–π—á–∏–≤—ã–µ –∫ –∞—Ç–∞–∫–∞–º —Å–ª–æ–≤–∞—Ä–Ω–æ–≥–æ —Ç–∏–ø–∞ –ø–∞—Ä–æ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∑–∞—â–∏—Ç—ã. –° –ø–æ–º–æ—â—å—é ¬´3.14LOT Password Generator¬ª –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å–∞–º—ã–º —Å—Ç—Ä–æ–≥–∏–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.",
    faq_title_2: "–ü–æ—á–µ–º—É —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π?",
    faq_title_2_content_1: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —á–∞—Å—Ç–æ –∏–º–µ–µ—Ç –¥–µ—Å—è—Ç–∫–∏ –∏–ª–∏ –¥–∞–∂–µ —Å–æ—Ç–Ω–∏ —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π. –ö–∞–∂–¥–∞—è –∏–∑ –Ω–∏—Ö —Ç—Ä–µ–±—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ, –Ω–∞–¥–µ–∂–Ω–æ–≥–æ –∏ —Å–ª–æ–∂–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –°–æ–∑–¥–∞—Ç—å —Ç–∞–∫–∏–µ –ø–∞—Ä–æ–ª–∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω–æ –∏ –æ—Ç–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.",
    faq_title_2_content_2: "–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π —É–ø—Ä–æ—â–∞–µ—Ç —ç—Ç—É –∑–∞–¥–∞—á—É, –ø–æ–∑–≤–æ–ª—è—è –±—ã—Å—Ç—Ä–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å–∏–º–≤–æ–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤–∑–ª–æ–º–∞—Ç—å. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∑–∞—â–∏—Ç—É –≤–∞—à–∏—Ö —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π, –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—è —Ä–∏—Å–∫ –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞. –ò—Å–ø–æ–ª—å–∑—É—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä, –≤—ã –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –ø–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö.",
    faq_title_3: "–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å?",
    faq_title_3_content_1: "–ù–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å ‚Äî —ç—Ç–æ –∫–ª—é—á –∫ –∑–∞—â–∏—Ç–µ –≤–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞, –∏ –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑–≤–µ—Å—Ç–µ–Ω —Ç–æ–ª—å–∫–æ –≤–∞–º. –ß—Ç–æ–±—ã –ø–æ–≤—ã—Å–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ –º–µ–Ω–µ–µ –≤–æ—Å—å–º–∏ —Å–∏–º–≤–æ–ª–æ–≤, –≤–∫–ª—é—á–∞—è –∑–∞–≥–ª–∞–≤–Ω—ã–µ –∏ —Å—Ç—Ä–æ—á–Ω—ã–µ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã.",
    faq_title_3_content_2: "–ò–∑–±–µ–≥–∞–π—Ç–µ –ª–µ–≥–∫–æ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π, —Ç–∞–∫–∏—Ö –∫–∞–∫:",
    faq_title_3_content_3: "–ø—Ä–æ—Å—Ç—ã–µ —Å–ª–æ–≤–∞",
    faq_title_3_content_4: "–º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–ª–æ–≤–∞ ¬´password¬ª",
    faq_title_3_content_5: "—à–∞–±–ª–æ–Ω—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ ¬´qwerty¬ª –∏–ª–∏ ¬´asdfgh¬ª",
    faq_title_3_content_6: "–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤—Ä–æ–¥–µ ¬´123456¬ª",
    faq_title_3_content_7: "–∏–º–µ–Ω–∞, –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è –∏–ª–∏ –∫–ª–∏—á–∫–∏ –¥–æ–º–∞—à–Ω–∏—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö",
    faq_title_3_content_8: "–°–æ–∑–¥–∞–≤–∞—è –ø–∞—Ä–æ–ª—å, –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å, —á—Ç–æ–±—ã –∑–∞—â–∏—Ç–∏—Ç—å –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ –≤–∑–ª–æ–º–∞.",
    rights: "\u00A9 2025 3.14LOT.COM - –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã",
    contact_us: "–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏",
  },
};

document.addEventListener("DOMContentLoaded", () => {
  const langSelect = document.getElementById("lang-select");
  const selectLanguage = document.querySelector(".select-language");
  const selectLanguage_img = document.querySelector(".lang-container");
  const elements = document.querySelectorAll("[data-key]");

  let currentLang = localStorage.getItem("language") || getBrowserLanguage();

  function getBrowserLanguage() {
    const browserLang = navigator.language || navigator.languages[0];
    return browserLang.startsWith("ru") ? "ru" : "en";
  }

  function applyTranslations(lang) {
    elements.forEach((el) => {
      const key = el.getAttribute("data-key");
      if (translations[lang][key]) {
        el.textContent = translations[lang][key];
      }
    });
  }

  function updateMetaTags(lang) {
    document.querySelector('meta[name="description"]').setAttribute("content", translations[lang].meta_description);
    document.querySelector('meta[name="keywords"]').setAttribute("content", translations[lang].meta_keywords);
    document.querySelector('meta[property="og:title"]').setAttribute("content", translations[lang].og_title);
    document.querySelector('meta[property="og:description"]').setAttribute("content", translations[lang].og_description);
    document.querySelector('meta[name="twitter:title"]').setAttribute("content", translations[lang].twitter_title);
    document.querySelector('meta[name="twitter:description"]').setAttribute("content", translations[lang].twitter_description);
    document.title = translations[lang].title;
  }

  function updateTitles(lang) {
    document.querySelectorAll("[data-key-title]").forEach((el) => {
      const key = el.getAttribute("data-key-title");
      if (translations[lang][key]) {
        el.setAttribute("title", translations[lang][key]);
      }
    });
  }

  function updateLanguage(lang) {
    document.querySelector(".lang-span").textContent =
      lang === "ru" ? "–†—É—Å—Å–∫–∏–π" : "English";
    localStorage.setItem("language", lang);

    applyTranslations(lang);
    updateMetaTags(lang);
    updateTitles(lang);
  }

  updateLanguage(currentLang);

  selectLanguage_img.addEventListener("click", (event) => {
    event.stopPropagation();
    selectLanguage.classList.toggle("show");
  });

  langSelect.addEventListener("click", (event) => {
    event.stopPropagation();
    selectLanguage.classList.toggle("show");
  });

  document.addEventListener("click", () => {
    selectLanguage.classList.remove("show");
  });

  selectLanguage.addEventListener("click", (event) => {
    const langValue = event.target.getAttribute("value");
    if (langValue) {
      currentLang = langValue;
      updateLanguage(currentLang);
      selectLanguage.classList.remove("show");
    }
  });
});
